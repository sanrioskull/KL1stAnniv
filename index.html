<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Memory Jar</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #0f0c29;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.6);
            --accent-glow: rgba(118, 75, 162, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: #0f0c29;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            color: var(--text-main);
            position: relative;
        }

        /* Ambient Background blobs */
        .ambient-light {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            top: 0;
            left: 0;
        }

        .blob {
            position: absolute;
            filter: blur(80px);
            opacity: 0.6;
            animation: float 10s infinite alternate cubic-bezier(0.45, 0.05, 0.55, 0.95);
        }

        .blob-1 {
            top: -10%;
            left: -10%;
            width: 50vw;
            height: 50vw;
            background: #302b63;
        }

        .blob-2 {
            bottom: -10%;
            right: -10%;
            width: 60vw;
            height: 60vw;
            background: #24243e;
            animation-delay: -2s;
        }

        .blob-3 {
            top: 40%;
            left: 40%;
            width: 30vw;
            height: 30vw;
            background: #667eea;
            opacity: 0.3;
            animation-delay: -5s;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) scale(1);
            }

            100% {
                transform: translate(30px, 50px) scale(1.1);
            }
        }

        /* Stars & Decor */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            animation: twinkle var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 0.2;
                transform: scale(0.8);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* FIREFLIES */
        .firefly {
            position: absolute;
            background: #ffffff;
            border-radius: 50%;
            pointer-events: none;
            box-shadow:
                0 0 10px #ffffff,
                0 0 20px #ffffff;
            opacity: 0;
            animation: fireflyFloat var(--duration) linear infinite, fireflyPulse 3s ease-in-out infinite alternate;
            bottom: -10vh;
        }

        @keyframes fireflyFloat {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            30% {
                transform: translateY(-30vh) translateX(30px);
            }

            50% {
                transform: translateY(-50vh) translateX(-20px);
            }

            70% {
                transform: translateY(-70vh) translateX(15px);
            }

            90% {
                opacity: 0.8;
            }

            100% {
                transform: translateY(-110vh) translateX(0);
                opacity: 0;
            }
        }

        @keyframes fireflyPulse {
            0% {
                box-shadow: 0 0 5px #ffffff, 0 0 10px #ffffff;
            }

            100% {
                box-shadow: 0 0 15px #ffffff, 0 0 25px #ffffff;
            }
        }

        .container {
            text-align: center;
            max-width: 600px;
            width: 100%;
            position: relative;
            z-index: 10;
        }

        header {
            margin-bottom: 3rem;
        }

        h1 {
            font-weight: 700;
            font-size: 3em;
            letter-spacing: -0.02em;
            background: linear-gradient(to bottom, #fff, #ccc);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.2em;
            text-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-weight: 300;
            color: var(--text-muted);
            font-size: 1.1em;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        h3 {
            font-weight: 300;
            color: var(--text-muted);
            font-size: 1.1em;
            letter-spacing: 0.05em;
        }

        /* Modern Abstract Jar */
        .jar-container {
            position: relative;
            width: 260px;
            height: 340px;
            margin: 0 auto 50px;
            cursor: pointer;
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            perspective: 1000px;
        }

        .jar-container:hover {
            transform: scale(1.02) translateY(-10px);
        }

        .jar-container:active {
            transform: scale(0.98);
        }

        .jar {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.2),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1),
                inset 0 20px 40px rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Liquid/Glow inside jar */
        .jar::before {
            content: '';
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 150%;
            height: 60%;
            background: radial-gradient(circle, rgba(118, 75, 162, 0.4) 0%, transparent 70%);
            filter: blur(30px);
            animation: pulse-glow 4s ease-in-out infinite alternate;
        }

        @keyframes pulse-glow {
            0% {
                opacity: 0.4;
                transform: translateX(-50%) scale(1);
            }

            100% {
                opacity: 0.7;
                transform: translateX(-50%) scale(1.1);
            }
        }

        .jar-lid {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 30px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2));
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 2;
        }

        .jar-label {
            position: relative;
            z-index: 3;
            color: #fff;
            text-align: center;
            font-weight: 500;
            font-size: 1.25em;
            line-height: 1.4;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            pointer-events: none;
        }

        .jar-label span {
            display: block;
            font-size: 0.8em;
            opacity: 0.7;
            margin-top: 5px;
            font-weight: 300;
        }

        /* Glass Card for Memory */
        .memory-slip {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 85%;
            max-width: 400px;
            background: rgba(20, 20, 30, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            /* backdrop-filter removed for clarity */
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: 20;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .memory-slip.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            pointer-events: auto;
        }

        .memory-text {
            font-size: 1.3em;
            line-height: 1.6;
            color: #fff;
            font-weight: 300;
            margin-bottom: 25px;
            text-align: center;
        }

        .memory-number {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.4);
            margin-bottom: 20px;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 10px 24px;
            border-radius: 50px;
            font-family: inherit;
            font-size: 0.9em;
            cursor: pointer;
            transition: background 0.2s;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Overlay when modal is open - Transparent */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 15;
            opacity: 0;
            pointer-events: none;
        }

        body.modal-open .overlay {
            opacity: 1;
            pointer-events: auto;
        }

        /* Footer info */
        .status-bar {
            position: fixed;
            bottom: 30px;
            left: 0;
            width: 100%;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9em;
            pointer-events: none;
        }

        .love-icon {
            color: #ff6b6b;
            display: inline-block;
            animation: beat 2s infinite ease-in-out;
        }

        @keyframes beat {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.8;
            }

            50% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        /* Sparkles */
        .sparkle {
            position: absolute;
            pointer-events: none;
            animation: pop 0.8s forwards;
            font-size: 1.2rem;
        }

        @keyframes pop {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 0;
            }

            50% {
                opacity: 1;
            }

            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.2em;
            }

            .jar-container {
                transform: scale(0.9);
            }
        }
    </style>
</head>

<body class="">

    <div class="ambient-light">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div id="starfield"></div>
        <div id="fireflyField"></div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="container">
        <header>
            <h1>Our Jar of Love <3 </h1>
                    <br>
                    <div class="subtitle">365 Days of Us</div>
        </header>

        <h3>I couldn't possibly fit all my love for you in a jar, my love.</h2>
            <h3>But I sure can fill it as much as I can.</h2>
                <br>
                <br>
                <br>
                <div class="jar-container" id="jarContainer">
                    <div class="jar-lid"></div>
                    <div class="jar">
                        <div class="jar-label">
                            Open Jar
                            <span>Draw a memory, my love!</span>
                        </div>
                    </div>
                </div>

                <div class="memory-slip" id="memorySlip">
                    <div class="memory-number" id="memoryNumber">MEMORY #001</div>
                    <div class="memory-text" id="memoryText"></div>
                    <button class="close-btn" id="closeBtn">Keep it & Close</button>
                </div>

                <div class="status-bar">
                    <span id="counter">0</span> / <span id="total">0</span> discovered <span class="love-icon">♥</span>
                </div>
    </div>

    <script>
        // MEMORIES CONFIGURATION
        const memories = [
            "Happy 1st Anniversary, my Luvs. I love you so much!!",
            "You made our first date so special and memorable, by being the most special and amazing person I'd ever met.",
            "I remember how your smile completely captured my heart, making my shyness EVEN WORSE :')",
            "Remember how we clicked instantly? How magical that felt?",
            "Sometimes I still can't believe I get to call you mine.",
            "He fell first, and she fell harder ;)",
            "My lovely boy, I adore you for who you are and I cherish you wholeheartedly.",
            "You've made me fall in love with sloths, and how much they resemble you.",
            "I can't go a minute without having my mind consumed by the thought of you.",
            "I love you so, so much. So much. Too much.",
            "Every time I hold your face in my hands, my heart explodes.",
            "I was reborn in your arms, and I shall die in them as well.",
            "You're a whole person on your own, and you make my heart twice as complete.",
            "Your scent is my favourite ever, y'know? Other than you in fresh laundry hehe.",
            "I could wake up in your arms forever and ever, and I never want it any other way.",
            "You're such a loverboy. I love how you love me, and I want to make you feel just as loved by me!!",
            "Secret freaky message - Even my body needs yours all the damn time. You turn me on by just existing, darling.",
            "You're truly the brightest spark in my life, babes.",
            "I'm like a honeybee to a tulip. I'm sooo addicted to you. And I can't live without you!!",
            "I love all your laughs. The crazy ones, the sarcastic ones, the sassy ones, the cute ones. I want to hear them for the rest of my life.",
            "Bad days happen, but I rest well knowing we have each other in the end, always.",
            "You're the hottest person ever. I'm obsessed with your body and crave it every second of the day. ;)",
            "We ragebait each other so much, we might as well get married NEOW",
            "I can't wait to have a million pets with you, my Luvs.",
            "Our bodies have connected so deeply, and it shows just how wonderful and pure our love is :)",
            "Typing this out rn and wishing I was bedrotting with youuuu",
            "You're the best boyfriend I could've ever asked for, my love.",
            "You have such pretty eyes, and I love staring into them. I could get lost and never want to find my way out.",
            "You're so kind, and I adore how you always care so much for me.",
            "My babyboy, words could never encapsulate just how much love my heart and body harbors for you."

        ];

        // STARTUP ANIMATIONS
        function initDecor() {
            const starfield = document.getElementById('starfield');
            const fireflyField = document.getElementById('fireflyField');

            // Generate Stars
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 2 + 1;
                const duration = Math.random() * 3 + 2;
                const delay = Math.random() * 5;

                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.setProperty('--delay', `${delay}s`);

                starfield.appendChild(star);
            }

            // Generate Fireflies
            for (let i = 0; i < 20; i++) {
                const fly = document.createElement('div');
                fly.classList.add('firefly');
                const startX = Math.random() * 100;
                const size = Math.random() * 4 + 4; // 4-8px
                const duration = Math.random() * 10 + 15;
                const delay = Math.random() * 10;

                fly.style.left = `${startX}%`;
                fly.style.width = `${size}px`;
                fly.style.height = `${size}px`;
                fly.style.setProperty('--duration', `${duration}s`);
                fly.style.animationDelay = `-${delay}s`;

                fireflyField.appendChild(fly);
            }
        }

        initDecor();

        // LOGIC
        let availableMemories = [...memories];
        let shownCount = 0;

        const jar = document.getElementById('jarContainer');
        const memorySlip = document.getElementById('memorySlip');
        const memoryText = document.getElementById('memoryText');
        const memoryNumber = document.getElementById('memoryNumber');
        const counterSpan = document.getElementById('counter');
        const totalSpan = document.getElementById('total');
        const overlay = document.getElementById('overlay');
        const closeBtn = document.getElementById('closeBtn');

        totalSpan.textContent = memories.length;

        function updateCounter() {
            counterSpan.textContent = shownCount;
        }

        function createSparkles(x, y) {
            const colors = ['#FFD700', '#FF69B4', '#00FFFF', '#FFFFFF'];
            for (let i = 0; i < 8; i++) {
                const el = document.createElement('div');
                el.classList.add('sparkle');
                el.innerText = '✦';
                el.style.color = colors[Math.floor(Math.random() * colors.length)];
                el.style.left = x + 'px';
                el.style.top = y + 'px';

                // Random destination
                const angle = Math.random() * Math.PI * 2;
                const distance = 50 + Math.random() * 50;
                const tx = Math.cos(angle) * distance + 'px';
                const ty = Math.sin(angle) * distance + 'px';

                el.style.setProperty('--tx', tx);
                el.style.setProperty('--ty', ty);

                document.body.appendChild(el);
                setTimeout(() => el.remove(), 800);
            }
        }

        function openMemory() {
            if (availableMemories.length === 0) {
                // Optional: Reset
                availableMemories = [...memories];
                shownCount = 0;
            }

            const randomIndex = Math.floor(Math.random() * availableMemories.length);
            const memory = availableMemories[randomIndex];
            availableMemories.splice(randomIndex, 1);
            shownCount++;
            updateCounter();

            // Populate Modal
            memoryText.textContent = memory;
            // Pad number with zeros
            const numStr = shownCount.toString().padStart(3, '0');
            memoryNumber.textContent = `MEMORY #${numStr}`;

            // Show Modal
            document.body.classList.add('modal-open');
            memorySlip.classList.add('show');
        }

        function closeMemory() {
            document.body.classList.remove('modal-open');
            memorySlip.classList.remove('show');
        }

        jar.addEventListener('click', (e) => {
            const rect = jar.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            createSparkles(centerX, centerY);

            // Small delay for drama
            setTimeout(openMemory, 200);
        });

        closeBtn.addEventListener('click', closeMemory);
        overlay.addEventListener('click', closeMemory);

        updateCounter();
    </script>
</body>

</html>